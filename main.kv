<ImageController>:
    BoxLayout:
        canvas:
            Color:
                rgba: 0, 0, 0, 1
            Rectangle:
                pos: self.pos
                size: self.size
        pos: (0, 0)
        size: root.size
        orientation: 'vertical'
        Label:
            id: label_widget
            size_hint: 1, 0.1
            text: "Describe and point to elements that you see in this image."
        BoxLayout:
            size_hint: 1, 0.1
            pos_hint: {'center_x': 0.5}
            SpeechWidget:
                id: speech_widget
                size: (100, 40)
        ImageContainer:
            image_source: root.image_src
            size_hint: 1, 0.8
            id: image_view
    Widget:
        pos: (0, 0)
        size: root.size
        canvas:
            Color:
                rgb: 1, 1, 1
            Ellipse:
                pos: root.cursor_pos
                size: (root.cursor_size, root.cursor_size)

<ImageContainer>:
    Image:
        allow_stretch: True
        keep_ratio: True
        pos: (0, 0)
        size: root.size
        source: root.image_source

<GestureDrawing>:
    canvas:
        Color:
            rgba: 0.98, 0.85, 0.16, 0.4
        Line:
            points: self.points
            joint: 'round'
            cap: 'round'
            width: 20.0

<SpeechWidget>:
    num_bars: 9
    color: 0, 1, 1, 1

<ConfirmDialog>:
    canvas:
        Color:
            rgba: 0, 0, 0.1, 0.8
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        pos: (0, 0)
        size: root.size
        orientation: "vertical"
        Label:
            id: label_widget
            size_hint: 1, 0.2
            text: "Hover left to re-do, hover right to confirm."
        ImageContainer:
            image_source: root.image_src
            size_hint: 1, 0.8
            id: image_view

